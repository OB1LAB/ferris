# Ferris 
### Это проект, который предназначен для просмотра игровой активности и упрощения модерирования.

## Возможности:
1.  Игровая активность - Просмотр игровой статистики. (Онлайн, количество сообщений в чатах, выданные наказания)
2. Парсер - страница для просмотра локальных логов в реальном времени и отправки сообщений. Есть поддержка макросов (Они сами парсятся с майна) и никнеймов игроков. (Если они светились в чате, то как и макросы, будут во всплывающих подсказках)
3. Поисковик - поиск информации в логах (Без учёта регистра). Есть очень гибкие настройки фильтров (В том числе и приватных логов подбора):
    1. Белый список - каждая новая строка будет искаться в значение "ИЛИ". К примеру у нас есть в белом списке 2 строки "OB1CHAM" и "Ksena", на выходе мы получим все строки с "OB1CHAM" и "Ksena".
Для каждой строки можно задать свой список (при помощи разделения их запятой с пробелом ", "), который будет искаться в значении "И". К примеру у нас есть в белом списке 2 строки "OB1CHAM, [G], продам" и "Ksena, [L], куплю". На выходе мы получим строки с OB1CHAM, который в глобальном чате что-то продаёт, и с Ksena, которая что-то покупает в локальном чате.
    2. Чёрный список - каждая новая строка будет искаться в значении "ИЛИ". К примеру у нас есть в чёрном списке "[G]", тогда мы на выходе не получим строки, содержащие глобальный чат. В отличии от белого списка, чёрный список не имеет поиска в значении "И", т.е тут не работают ", " из-за отсутствия необходимости в этом.

## Установка:
### Windows:
1. Скачиваем в [Releases](https://github.com/OB1LAB/ferris/releases) последнюю версию приложения.
2. Перемещаем его в удобное место. (При запуске, создастся папка logs в директории программы, в которой будут храниться логи)
3. Запускаем exe файл и вводим в браузере localhost:8000.
### Linux/MacOs:
1. git clone https://github.com/OB1LAB/ferris
2. cd ferris/server
3. python3 -m venv venv
4. source venv/bin/activate
5. pip3 install -r requirements.txt
6. Меняем в ferris/server/my_libs/config.py 27 строчку (Указываем свой путь до McSkill)
7. (**Только для MacOs**) скачиваем и устанавливаем [XQuartz сервер](https://www.xquartz.org/), после перезаходим в систему и запускаем его. Он нужен для отправки сигналов в майнкрафт. (Чтобы при помощи бинда отправлять сообщения в чате)
8. (**Только для MacOs**) Пишем в консоль **export DISPLAY=:0**
9. python3 wsgi.py

Так как вы запускаете на своём устройстве сервер, то можете подключиться к нему по локальной сети с телефона. Или говоря простым языком, приложение после запуска будет доступна для любого устройства в одной локальной сети (Нужно ввести ip адрес устройства и указать 8000 порт. Например - 192.168.0.105:8000). Даже есть адаптив под мобильные устройства. Но, на винде (Только с exe файла) у меня не получилось подключиться с телефона, однако у других людей всё работало. Возможно дело в том, что я раздаю себе инет с телефона и поэтому не хочет.

Посмотреть локальный ip адрес устройства, на котором запустили сервер, можно командй ipconfig (Для Windows, смотрим IPv4 Address) или ifconfig. (Для Linux/MacOs, смотрим inet)

Рекомендуется отключить для данного сайта (Который вы запустите, т.е localhost:8000) автоматический гугл переводчик. Т.к он ломает сайт (DOMException: Failed to execute 'insertBefore' on 'Node')

## Обновления:
+ Frontend - будет обновляться сам. (Достаточно даже перезагрузить страницу)
+ Backend (Функционал, к примеру подсчёт активности, парсер и тд) - нужно скачивать новую версию с github (Ниже, на последнем скриншоте в приложении можно посмотреть актуальность версии)
+ Обновление на windows - Просто скачиваем новую версию с [Releases](https://github.com/OB1LAB/ferris/releases).
+ Linux/MacOs - В консоль с проектом **git pull**.

## Changelog:
+ В следующем обновлении (1.1) планируется добавить настройки для парсера. Включать/Отключать типы сообщений + возможность ставить на них белые и чёрные фильтры с уведомлениями, в том числе и звуковыми. Отдельно добавить уведомление по возможному нарушению 3.8 (Коммерция и реклама варпов)
+ 1.05 - Во вкладке с инфоромацией добавлено отображение время обновления логов на сервере.
+ 1.04 - Релиз.

## Скриншоты
![Activity](https://cdn.discordapp.com/attachments/1070414565612982404/1137470381414961172/image.png)

![Activity modal add player](https://cdn.discordapp.com/attachments/1070414565612982404/1137468208216023070/image.png)

![ActivityMobile](https://cdn.discordapp.com/attachments/1070414565612982404/1137468368732049498/image.png)

![Parser](https://cdn.discordapp.com/attachments/1070414565612982404/1137470052837363793/image.png)

![Finder](https://cdn.discordapp.com/attachments/1070414565612982404/1137468913349836820/image.png)

![Finder modal 1](https://cdn.discordapp.com/attachments/1070414565612982404/1137468976432164944/image.png)

![Finder modal 2](https://cdn.discordapp.com/attachments/1070414565612982404/1137469104689774732/image.png)

![Finder modal 3](https://cdn.discordapp.com/attachments/1070414565612982404/1137469252379619439/image.png)

![Index 1](https://cdn.discordapp.com/attachments/1070414565612982404/1137469550703685755/image.png)

![Index 2](https://cdn.discordapp.com/attachments/1070414565612982404/1137683684762337290/image.png)

#### P.s сказать спасибо можно поставив лайк на [аву](https://vk.com/ob1cham?z=photo219373415_457240105%2Falbum219373415_0)